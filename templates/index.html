<head>
  <link href="https://vjs.zencdn.net/7.8.2/video-js.css" rel="stylesheet" />

  <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
  <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>
  <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
  <link href="/static/videojs.test.css" rel="stylesheet" type="text/css">
  <link href="/static/videojs-preroll.css" rel="stylesheet" type="text/css">
</head>

<style type="text/css">
  #my_overlay {
  background:rgba(0,0,0,0.5);
  width: 90%;
  height: 90%;
  position: absolute;
  top: 3%;
  left: 5%;
  z-index:99;
  display:none;
  overflow:hidden;
}
#my_overlay .overlay-in {
  position:absolute;
  top:50%;
  left:50%;
  transform: translate(-50%, -50%);
  display:inline-block;
}
#my_overlay .overlay-close {
  width: 28px;
  height: 28px;
  background:url(/images/overlay svg);
  background-size:28px 28px;
  top:10px;
  right:10px;
  cursor:pointer;
  position:absolute;
}
</style>

<body>
  <div>
    <video
      id="my-video"
      class="video-js"
      controls
      preload="auto"
      poster="https://cdn-t.vb17110frankfoley.pw/content/stream/1xbet/banner_pause_rus_kubok_ge2.jpg"
      data-setup="{}"
      style="width: 100%;height: 100%;"
    >
      <source src="{{url_for('get_file', video_n='try2')}}" type="video/mp4" />
      <p class="vjs-no-js">
        To view this video please enable JavaScript, and consider upgrading to a
        web browser that
        <a href="https://videojs.com/html5-video-support/" target="_blank"
          >supports HTML5 video</a
        >
      </p>
    </video>
    <div id="my_overlay">
      <div class="oberlay-in">
        <a href="/link">
          <img src="https://cdn-t.vb17110frankfoley.pw/content/stream/1xbet/banner_pause_rus_kubok_ge2.jpg" style="height: 100%; width: 100%;" id="banner_pause">
        </a>
      </div>
      <div class="overlay-close"></div>
     </div>
  </div>
  <script src="https://vjs.zencdn.net/7.8.2/video.js"></script>
  <script src="/static/videojs.test.min.js"></script>
  <script src="/static/videojs-preroll.js"></script>
</body>

<script type="text/javascript">
  videojs('my-video',{},function(){
    var player = this;

    player.on("pause", function(){
         if (!player.seeking() && player.paused()) {
           $("#my_overlay").fadeIn();
         }
     });
     player.on("playing", function(){
        $("#my_overlay").fadeOut(); player.play();
     });
     $("#my_overlay").click(function() {
        $("#myoverlay").fadeOut(); player.play();
     });
    player.preroll({
      src:{src:"{{url_for('get_file', video_n='advertisement')}}",type:"video/mp4"}
    });
  });
</script>